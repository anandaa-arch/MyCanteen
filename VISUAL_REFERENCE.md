# ğŸ“º Visual Reference: What You'll See

## Customer Dashboard (After They Submit Poll)

### Status 1: Just Submitted (Pending)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TODAY'S POLL RESPONSE            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Attending â€¢ full portion               â”‚
â”‚                                         â”‚
â”‚  Status Badge: [âœï¸ Pending Response]   â”‚
â”‚                                         â”‚
â”‚  [Mark as Attending Now] [Update] [âŠ—]  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Status 2: Marked as Attending (Awaiting Admin)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TODAY'S POLL RESPONSE            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Attending â€¢ full portion               â”‚
â”‚                                         â”‚
â”‚  Status Badge: [â³ Awaiting Admin...]  â”‚
â”‚                                         â”‚
â”‚  Message: "You marked as attending.    â”‚
â”‚            Admin will confirm soon."    â”‚
â”‚                                         â”‚
â”‚  [Update] [Cancel Response]             â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Status 3: Confirmed by Admin
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        TODAY'S POLL RESPONSE            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Attending â€¢ full portion               â”‚
â”‚                                         â”‚
â”‚  Status Badge: [âœ… Confirmed Attended] â”‚
â”‚                                         â”‚
â”‚  Message: "Your attendance has been    â”‚
â”‚            confirmed!"                  â”‚
â”‚                                         â”‚
â”‚  [Update Response]                      â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Admin Dashboard (Poll Management)

### Table View
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ POLL MANAGEMENT                                                      â”‚
â”‚ Manage daily meal attendance and confirmations        admin@test.com  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚ Date: [Today â–¼]    Filter: [All Usersâ–¼][Pending...â–¼][Confirmedâ–¼]  â”‚
â”‚                                                                      â”‚
â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ USERâ”‚ CONTACT      â”‚ STATUS   â”‚ RESPONSE â”‚PORTION â”‚ ACTIONS        â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ‘¤  â”‚ Anand         â”‚â³ Await  â”‚[Present] â”‚Full â–¶  â”‚[Confirm]       â”‚
â”‚    â”‚ 9162... @... â”‚ Confirm â”‚   â—€Presentâ—€       â”‚                â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ‘¤  â”‚ Test User     â”‚âœ… Conf   â”‚[Present] â”‚Full â–¶  â”‚âœ… Confirmed    â”‚
â”‚    â”‚ 9162... @... â”‚ Attendedâ”‚   â—€Presentâ—€       â”‚                â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ‘¤  â”‚ kundan        â”‚âŒ No     â”‚[Absent ] â”‚Full â–¶  â”‚âŒ No Show      â”‚
â”‚    â”‚ 7058... @... â”‚ Show     â”‚   â—€Absentâ—€        â”‚                â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ğŸ‘¤  â”‚ New Test User â”‚ğŸ“µ Cancel â”‚[Present] â”‚Full â–¶  â”‚- - - - - - - -â”‚
â”‚    â”‚ 9876... @... â”‚ led      â”‚   â—€Presentâ—€       â”‚                â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Admin Clicks "Confirm" Button â†’ Modal Opens
```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  Confirm Attendance - Anand            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                        â•‘
â•‘  Choose an action to confirm or reject:â•‘
â•‘                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ Optional: Add notes               â”‚ â•‘
â•‘  â”‚ "Took half meal instead"          â”‚ â•‘
â•‘  â”‚ "Didn't show up with reason"      â”‚ â•‘
â•‘  â”‚ "Verified in person at counter"   â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                        â•‘
â•‘  [âœ… Attended] [âŒ No Show] [ğŸš« Reject]â•‘
â•‘                                        â•‘
â•‘                    [Cancel]            â•‘
â•‘                                        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### After Admin Confirms
```
Table Row Updates:

BEFORE:
â”‚ğŸ‘¤  â”‚ Anand         â”‚â³ Await  â”‚[Present] â”‚Full â–¶  â”‚[Confirm]       â”‚
â”‚    â”‚ 9162... @... â”‚ Confirm â”‚         â”‚        â”‚                â”‚

AFTER (status = confirmed_attended):
â”‚ğŸ‘¤  â”‚ Anand         â”‚âœ… Conf   â”‚[Present] â”‚Full â–¶  â”‚âœ… Confirmed    â”‚
â”‚    â”‚ 9162... @... â”‚ Attendedâ”‚         â”‚        â”‚                â”‚

Row color changes to GREEN background âœ…
Status shows: confirmed_attended
Database fields populated:
  - confirmed_by: admin_uuid
  - confirmed_at: 2025-10-17 13:30:00
  - admin_notes: "Verified in person"
```

---

## Database View (What Gets Stored)

### Before (Old System)
```
id     | user_id          | date       | confirmation_status
â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
abc123 | user_uuid_1      | 2025-10-17 | pending
def456 | user_uuid_2      | 2025-10-17 | confirmed
ghi789 | user_uuid_3      | 2025-10-17 | rejected
```

### After (New System - 2-Step Verification)
```
id     | user_id          | date       | confirmation_status      | attended_at              | confirmed_by | confirmed_at             | admin_notes
â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
abc123 | user_uuid_1      | 2025-10-17 | confirmed_attended       | 2025-10-17 12:30:00     | admin_id     | 2025-10-17 12:35:00      | Verified in person
def456 | user_uuid_2      | 2025-10-17 | no_show                  | 2025-10-17 12:32:00     | admin_id     | 2025-10-17 12:40:00      | Didn't come to counter
ghi789 | user_uuid_3      | 2025-10-17 | awaiting_admin_confir... | 2025-10-17 12:29:00     | NULL         | NULL                     | NULL
```

---

## API Response Examples

### Customer Marks as Attended (Success)
```json
{
  "success": true,
  "message": "Marked as attending - waiting for admin confirmation",
  "data": {
    "id": "abc123",
    "confirmation_status": "awaiting_admin_confirmation",
    "attended_at": "2025-10-17T12:30:00.000Z",
    "updated_at": "2025-10-17T12:30:00.000Z"
  }
}
```

### Admin Confirms Attendance (Success)
```json
{
  "success": true,
  "message": "Poll response confirm attended successfully",
  "data": {
    "id": "abc123",
    "confirmation_status": "confirmed_attended",
    "confirmed_by": "admin_uuid",
    "confirmed_at": "2025-10-17T12:35:00.000Z",
    "admin_notes": "Verified in person at lunch counter",
    "updated_at": "2025-10-17T12:35:00.000Z"
  }
}
```

### Admin Marks No Show (Success)
```json
{
  "success": true,
  "message": "Poll response no show successfully",
  "data": {
    "id": "abc123",
    "confirmation_status": "no_show",
    "confirmed_by": "admin_uuid",
    "confirmed_at": "2025-10-17T12:40:00.000Z",
    "admin_notes": "Said yes but never came to counter",
    "updated_at": "2025-10-17T12:40:00.000Z"
  }
}
```

---

## Status Badge Colors & Icons

```
pending_customer_response
  âœï¸  Gray badge
  "âœï¸ Pending Your Response"

awaiting_admin_confirmation
  â³  Yellow badge
  "â³ Awaiting Admin Confirmation"

confirmed_attended
  âœ…  Green badge
  "âœ… Confirmed"

no_show
  âŒ  Red badge
  "âŒ No Show"

rejected
  ğŸš«  Orange badge
  "ğŸš« Rejected"

cancelled
  ğŸ“µ  Gray badge
  "ğŸ“µ Cancelled"
```

---

## Complete Flow Animation

```
TIME: 12:00 PM
â”Œâ”€ Customer opens app, submits poll
â””â”€ Status: âœï¸ Pending (no button shown)

TIME: 12:20 PM
â”Œâ”€ Customer comes near canteen
â””â”€ Dashboard shows: [Mark as Attending Now] button

TIME: 12:25 PM (Customer clicks button)
â”Œâ”€ Status changes to: â³ Awaiting Admin
â””â”€ Message shows: "Admin will confirm soon"

TIME: 12:30 PM (Admin opens admin/polls)
â”Œâ”€ Admin sees table
â”œâ”€ Sees customer name with â³ status
â””â”€ [Confirm] button available

TIME: 12:32 PM (Admin clicks Confirm)
â”Œâ”€ Modal opens
â”œâ”€ Admin sees 3 options: Attended / No Show / Reject
â”œâ”€ Admin adds optional notes
â””â”€ Admin clicks "Confirm Attended"

TIME: 12:32 PM (Immediate Update)
â”Œâ”€ Row color changes to GREEN
â”œâ”€ Status shows: âœ… Confirmed
â”œâ”€ Database updated with:
â”‚  â””â”€ confirmed_by, confirmed_at, admin_notes
â””â”€ Customer dashboard shows: "âœ… Confirmed!"

TIME: 2:00 PM (Billing)
â”Œâ”€ Billing system runs
â”œâ”€ Queries: WHERE confirmation_status = 'confirmed_attended'
â”œâ”€ Finds: Anand (confirmed) + others
â””â”€ Generates: Bills only for confirmed attendees âœ…
```

---

This is what you're building! ğŸ‰
